-- [should compile]

Test : type Text
instance (Once Test) : ()
instance (Empty Test) : once {
    show "Initializing"
    Test "Hello, world!"
} (_ -> do {
    show "Cleaning up"
})

show-test :: {}
show-test : {
    Test message : Empty
    show message
}

do show-test
do show-test
