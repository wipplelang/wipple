Facts:
TypeDefinitionNode `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
  at test/tests/infer-constraint.wipple:1:1-3:26
  has definition constraints
  has type Number
  is a definition
TypeDefinitionNode `String` (test/tests/infer-constraint.wipple:4:1-4:26)
  at test/tests/infer-constraint.wipple:4:1-4:26
  has definition constraints
  has type String
  is a definition
TypeParameterNode `left` (test/tests/infer-constraint.wipple:6:7-6:11)
  at test/tests/infer-constraint.wipple:6:7-6:11
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:6:7-6:11)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:6:12-6:17)
  at test/tests/infer-constraint.wipple:6:12-6:17
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:6:12-6:17)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:6:18-6:21)
  at test/tests/infer-constraint.wipple:6:18-6:21
  has type sum
  is a type
  resolved to 1 definition(s): `sum` (test/tests/infer-constraint.wipple:6:18-6:21)
TypeParameterNode `left` (test/tests/infer-constraint.wipple:6:32-6:36)
  at test/tests/infer-constraint.wipple:6:32-6:36
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:6:7-6:11)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:6:37-6:42)
  at test/tests/infer-constraint.wipple:6:37-6:42
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:6:12-6:17)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:6:46-6:49)
  at test/tests/infer-constraint.wipple:6:46-6:49
  has type sum
  is a type
  resolved to 1 definition(s): `sum` (test/tests/infer-constraint.wipple:6:18-6:21)
FunctionTypeNode `left right -> sum` (test/tests/infer-constraint.wipple:6:32-6:49)
  at test/tests/infer-constraint.wipple:6:32-6:49
  has type left right -> sum
  is a type
TraitDefinitionNode `Add : left right sum => trait (left right -> sum)` (test/tests/infer-constraint.wipple:6:1-6:50)
  at test/tests/infer-constraint.wipple:6:1-6:50
  has definition constraints
  has instances
  has type left right -> sum
  has type parameters
  is a definition
NamedTypeNode `Number` (test/tests/infer-constraint.wipple:7:15-7:21)
  at test/tests/infer-constraint.wipple:7:15-7:21
  has type Number
  is a type
  resolved to 1 definition(s): `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
NamedTypeNode `Number` (test/tests/infer-constraint.wipple:7:22-7:28)
  at test/tests/infer-constraint.wipple:7:22-7:28
  has type Number
  is a type
  resolved to 1 definition(s): `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
NamedTypeNode `Number` (test/tests/infer-constraint.wipple:7:29-7:35)
  at test/tests/infer-constraint.wipple:7:29-7:35
  has type Number
  is a type
  resolved to 1 definition(s): `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
BoundConstraintNode `Add Number Number Number` (test/tests/infer-constraint.wipple:7:10-7:36)
  at test/tests/infer-constraint.wipple:7:10-7:36
PlaceholderExpressionNode `_` (test/tests/infer-constraint.wipple:7:39-7:40)
  at test/tests/infer-constraint.wipple:7:39-7:40
  has type Number Number -> Number
  is an expression
InstanceDefinitionNode `instance (Add Number Number Number)` (test/tests/infer-constraint.wipple:7:1-7:40)
  at test/tests/infer-constraint.wipple:7:1-7:40
  has definition constraints
  has type Number Number -> Number
  is a definition
  resolved to 1 definition(s): `Add : left right sum => trait (left right -> sum)` (test/tests/infer-constraint.wipple:6:1-6:50)
NamedTypeNode `String` (test/tests/infer-constraint.wipple:8:15-8:21)
  at test/tests/infer-constraint.wipple:8:15-8:21
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
NamedTypeNode `String` (test/tests/infer-constraint.wipple:8:22-8:28)
  at test/tests/infer-constraint.wipple:8:22-8:28
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
NamedTypeNode `String` (test/tests/infer-constraint.wipple:8:29-8:35)
  at test/tests/infer-constraint.wipple:8:29-8:35
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
BoundConstraintNode `Add String String String` (test/tests/infer-constraint.wipple:8:10-8:36)
  at test/tests/infer-constraint.wipple:8:10-8:36
PlaceholderExpressionNode `_` (test/tests/infer-constraint.wipple:8:39-8:40)
  at test/tests/infer-constraint.wipple:8:39-8:40
  has type String String -> String
  is an expression
InstanceDefinitionNode `instance (Add String String String)` (test/tests/infer-constraint.wipple:8:1-8:40)
  at test/tests/infer-constraint.wipple:8:1-8:40
  has definition constraints
  has type String String -> String
  is a definition
  resolved to 1 definition(s): `Add : left right sum => trait (left right -> sum)` (test/tests/infer-constraint.wipple:6:1-6:50)
TypeParameterNode `left` (test/tests/infer-constraint.wipple:10:8-10:12)
  at test/tests/infer-constraint.wipple:10:8-10:12
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:10:8-10:12)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:10:13-10:18)
  at test/tests/infer-constraint.wipple:10:13-10:18
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:10:13-10:18)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:10:22-10:25)
  at test/tests/infer-constraint.wipple:10:22-10:25
  has type sum
  is a type
  resolved to 1 definition(s): `sum` (test/tests/infer-constraint.wipple:10:22-10:25)
FunctionTypeNode `left right -> sum` (test/tests/infer-constraint.wipple:10:8-10:25)
  at test/tests/infer-constraint.wipple:10:8-10:25
  has type left right -> sum
  is a type
TypeParameterNode `left` (test/tests/infer-constraint.wipple:10:37-10:41)
  at test/tests/infer-constraint.wipple:10:37-10:41
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:10:8-10:12)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:10:42-10:47)
  at test/tests/infer-constraint.wipple:10:42-10:47
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:10:13-10:18)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:10:48-10:51)
  at test/tests/infer-constraint.wipple:10:48-10:51
  has type sum
  is a type
  resolved to 1 definition(s): `sum` (test/tests/infer-constraint.wipple:10:22-10:25)
BoundConstraintNode `Add left right sum` (test/tests/infer-constraint.wipple:10:32-10:52)
  at test/tests/infer-constraint.wipple:10:32-10:52
  is a constraint
  resolved to 1 definition(s): `Add : left right sum => trait (left right -> sum)` (test/tests/infer-constraint.wipple:6:1-6:50)
ConstantDefinitionNode `add` (test/tests/infer-constraint.wipple:10:1-10:52)
  at test/tests/infer-constraint.wipple:10:1-10:52
  has definition constraints
  has type left right -> sum
  has type parameters
  is a definition
VariablePatternNode `add` (test/tests/infer-constraint.wipple:11:1-11:4)
  at test/tests/infer-constraint.wipple:11:1-11:4
PlaceholderExpressionNode `_` (test/tests/infer-constraint.wipple:11:7-11:8)
  at test/tests/infer-constraint.wipple:11:7-11:8
  has type left right -> sum
  is an expression
WildcardPatternNode `_` (test/tests/infer-constraint.wipple:13:1-13:2)
  at test/tests/infer-constraint.wipple:13:1-13:2
  has type String
  is a pattern
VariableExpressionNode `add` (test/tests/infer-constraint.wipple:13:6-13:9)
  at test/tests/infer-constraint.wipple:13:6-13:9
  has bound(s) Add Number Number String (unresolved)
  has type Number Number -> String
  is an expression
  resolved to 1 definition(s): `add` (test/tests/infer-constraint.wipple:10:1-10:52)
NumberExpressionNode `1` (test/tests/infer-constraint.wipple:13:10-13:11)
  at test/tests/infer-constraint.wipple:13:10-13:11
  has type Number
  is an expression
NumberExpressionNode `2` (test/tests/infer-constraint.wipple:13:12-13:13)
  at test/tests/infer-constraint.wipple:13:12-13:13
  has type Number
  is an expression
CallExpressionNode `add 1 2` (test/tests/infer-constraint.wipple:13:6-13:13)
  at test/tests/infer-constraint.wipple:13:6-13:13
  has type String
  is an expression
NamedTypeNode `String` (test/tests/infer-constraint.wipple:13:17-13:23)
  at test/tests/infer-constraint.wipple:13:17-13:23
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
AnnotateExpressionNode `add 1 2 :: String` (test/tests/infer-constraint.wipple:13:6-13:23)
  at test/tests/infer-constraint.wipple:13:6-13:23
  has type String
  is an expression
TypeParameterNode `left` (test/tests/infer-constraint.wipple:15:13-15:17)
  at test/tests/infer-constraint.wipple:15:13-15:17
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:15:13-15:17)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:15:18-15:23)
  at test/tests/infer-constraint.wipple:15:18-15:23
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:15:18-15:23)
TypeParameterNode `infer sum` (test/tests/infer-constraint.wipple:15:24-15:35)
  at test/tests/infer-constraint.wipple:15:24-15:35
  has type sum
  is a type
  is inferred type parameter
  resolved to 1 definition(s): `infer sum` (test/tests/infer-constraint.wipple:15:24-15:35)
TypeParameterNode `left` (test/tests/infer-constraint.wipple:15:46-15:50)
  at test/tests/infer-constraint.wipple:15:46-15:50
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:15:13-15:17)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:15:51-15:56)
  at test/tests/infer-constraint.wipple:15:51-15:56
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:15:18-15:23)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:15:60-15:63)
  at test/tests/infer-constraint.wipple:15:60-15:63
  has type sum
  is a type
  resolved to 1 definition(s): `infer sum` (test/tests/infer-constraint.wipple:15:24-15:35)
FunctionTypeNode `left right -> sum` (test/tests/infer-constraint.wipple:15:46-15:63)
  at test/tests/infer-constraint.wipple:15:46-15:63
  has type left right -> sum
  is a type
TraitDefinitionNode `Add-Infer : left right (infer sum) => trait (left right -> sum)` (test/tests/infer-constraint.wipple:15:1-15:64)
  at test/tests/infer-constraint.wipple:15:1-15:64
  has definition constraints
  has instances
  has type left right -> sum
  has type parameters
  is a definition
NamedTypeNode `Number` (test/tests/infer-constraint.wipple:16:21-16:27)
  at test/tests/infer-constraint.wipple:16:21-16:27
  has type Number
  is a type
  resolved to 1 definition(s): `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
NamedTypeNode `Number` (test/tests/infer-constraint.wipple:16:28-16:34)
  at test/tests/infer-constraint.wipple:16:28-16:34
  has type Number
  is a type
  resolved to 1 definition(s): `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
NamedTypeNode `Number` (test/tests/infer-constraint.wipple:16:35-16:41)
  at test/tests/infer-constraint.wipple:16:35-16:41
  has type Number
  is a type
  resolved to 1 definition(s): `Number` (test/tests/infer-constraint.wipple:1:1-3:26)
BoundConstraintNode `Add-Infer Number Number Number` (test/tests/infer-constraint.wipple:16:10-16:42)
  at test/tests/infer-constraint.wipple:16:10-16:42
PlaceholderExpressionNode `_` (test/tests/infer-constraint.wipple:16:45-16:46)
  at test/tests/infer-constraint.wipple:16:45-16:46
  has type Number Number -> Number
  is an expression
InstanceDefinitionNode `instance (Add-Infer Number Number Number)` (test/tests/infer-constraint.wipple:16:1-16:46)
  at test/tests/infer-constraint.wipple:16:1-16:46
  has definition constraints
  has type Number Number -> Number
  is a definition
  resolved to 1 definition(s): `Add-Infer : left right (infer sum) => trait (left right -> sum)` (test/tests/infer-constraint.wipple:15:1-15:64)
NamedTypeNode `String` (test/tests/infer-constraint.wipple:17:21-17:27)
  at test/tests/infer-constraint.wipple:17:21-17:27
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
NamedTypeNode `String` (test/tests/infer-constraint.wipple:17:28-17:34)
  at test/tests/infer-constraint.wipple:17:28-17:34
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
NamedTypeNode `String` (test/tests/infer-constraint.wipple:17:35-17:41)
  at test/tests/infer-constraint.wipple:17:35-17:41
  has type String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
BoundConstraintNode `Add-Infer String String String` (test/tests/infer-constraint.wipple:17:10-17:42)
  at test/tests/infer-constraint.wipple:17:10-17:42
PlaceholderExpressionNode `_` (test/tests/infer-constraint.wipple:17:45-17:46)
  at test/tests/infer-constraint.wipple:17:45-17:46
  has type String String -> String
  is an expression
InstanceDefinitionNode `instance (Add-Infer String String String)` (test/tests/infer-constraint.wipple:17:1-17:46)
  at test/tests/infer-constraint.wipple:17:1-17:46
  has definition constraints
  has type String String -> String
  is a definition
  resolved to 1 definition(s): `Add-Infer : left right (infer sum) => trait (left right -> sum)` (test/tests/infer-constraint.wipple:15:1-15:64)
TypeParameterNode `left` (test/tests/infer-constraint.wipple:19:14-19:18)
  at test/tests/infer-constraint.wipple:19:14-19:18
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:19:14-19:18)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:19:19-19:24)
  at test/tests/infer-constraint.wipple:19:19-19:24
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:19:19-19:24)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:19:28-19:31)
  at test/tests/infer-constraint.wipple:19:28-19:31
  has type sum
  is a type
  resolved to 1 definition(s): `sum` (test/tests/infer-constraint.wipple:19:28-19:31)
FunctionTypeNode `left right -> sum` (test/tests/infer-constraint.wipple:19:14-19:31)
  at test/tests/infer-constraint.wipple:19:14-19:31
  has type left right -> sum
  is a type
TypeParameterNode `left` (test/tests/infer-constraint.wipple:19:49-19:53)
  at test/tests/infer-constraint.wipple:19:49-19:53
  has type left
  is a type
  resolved to 1 definition(s): `left` (test/tests/infer-constraint.wipple:19:14-19:18)
TypeParameterNode `right` (test/tests/infer-constraint.wipple:19:54-19:59)
  at test/tests/infer-constraint.wipple:19:54-19:59
  has type right
  is a type
  resolved to 1 definition(s): `right` (test/tests/infer-constraint.wipple:19:19-19:24)
TypeParameterNode `sum` (test/tests/infer-constraint.wipple:19:60-19:63)
  at test/tests/infer-constraint.wipple:19:60-19:63
  has type sum
  is a type
  resolved to 1 definition(s): `sum` (test/tests/infer-constraint.wipple:19:28-19:31)
BoundConstraintNode `Add-Infer left right sum` (test/tests/infer-constraint.wipple:19:38-19:64)
  at test/tests/infer-constraint.wipple:19:38-19:64
  is a constraint
  resolved to 1 definition(s): `Add-Infer : left right (infer sum) => trait (left right -> sum)` (test/tests/infer-constraint.wipple:15:1-15:64)
ConstantDefinitionNode `add-infer` (test/tests/infer-constraint.wipple:19:1-19:64)
  at test/tests/infer-constraint.wipple:19:1-19:64
  has definition constraints
  has type left right -> sum
  has type parameters
  is a definition
VariablePatternNode `add-infer` (test/tests/infer-constraint.wipple:20:1-20:10)
  at test/tests/infer-constraint.wipple:20:1-20:10
PlaceholderExpressionNode `_` (test/tests/infer-constraint.wipple:20:13-20:14)
  at test/tests/infer-constraint.wipple:20:13-20:14
  has type left right -> sum
  is an expression
VariablePatternNode `output` (test/tests/infer-constraint.wipple:22:1-22:7)
  at test/tests/infer-constraint.wipple:22:1-22:7
  has type Number or String
  is a pattern
VariableExpressionNode `add-infer` (test/tests/infer-constraint.wipple:22:11-22:20)
  at test/tests/infer-constraint.wipple:22:11-22:20
  has bound(s) Add-Infer Number Number Number (`instance (Add-Infer Number Number Number)` (test/tests/infer-constraint.wipple:16:1-16:46))
  has type Number Number -> Number
  is an expression
  resolved to 1 definition(s): `add-infer` (test/tests/infer-constraint.wipple:19:1-19:64)
NumberExpressionNode `1` (test/tests/infer-constraint.wipple:22:21-22:22)
  at test/tests/infer-constraint.wipple:22:21-22:22
  has type Number
  is an expression
NumberExpressionNode `2` (test/tests/infer-constraint.wipple:22:23-22:24)
  at test/tests/infer-constraint.wipple:22:23-22:24
  has type Number
  is an expression
CallExpressionNode `add-infer 1 2` (test/tests/infer-constraint.wipple:22:11-22:24)
  at test/tests/infer-constraint.wipple:22:11-22:24
  has type Number or String
  is an expression
NamedTypeNode `String` (test/tests/infer-constraint.wipple:22:28-22:34)
  at test/tests/infer-constraint.wipple:22:28-22:34
  has type Number or String
  is a type
  resolved to 1 definition(s): `String` (test/tests/infer-constraint.wipple:4:1-4:26)
AnnotateExpressionNode `add-infer 1 2 :: String` (test/tests/infer-constraint.wipple:22:11-22:34)
  at test/tests/infer-constraint.wipple:22:11-22:34
  has type Number or String
  is an expression


Feedback:

`output` (test/tests/infer-constraint.wipple:22:1-22:7) (conflicting-types):

  `output` (test/tests/infer-constraint.wipple:22:1-22:7) is a `Number` (test/tests/infer-constraint.wipple:16:35-16:41) or a `String` (test/tests/infer-constraint.wipple:22:28-22:34), but it can only be one of these.

  `output` (test/tests/infer-constraint.wipple:22:1-22:7) must be the same type as `add-infer 1 2` (test/tests/infer-constraint.wipple:22:11-22:24), `add-infer 1 2 :: String` (test/tests/infer-constraint.wipple:22:11-22:34), `String` (test/tests/infer-constraint.wipple:22:28-22:34), and 7 others; double-check these.

  -  `sum` (test/tests/infer-constraint.wipple:19:28-19:31) must have the same type everywhere in this use of `add-infer` (test/tests/infer-constraint.wipple:19:1-19:64).
