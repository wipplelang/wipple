code: |
    Grade : type { A B C D F }

    report-card :: Grade -> Text
    report-card : grade -> when grade {
        Grade A -> "top of the class"
        Grade B -> "good job"
        Grade C -> "need to study"
    }

    unwrap :: A => Maybe A -> A
    unwrap : x -> when x {
        Some x -> x
    }

output: |

diagnostics: |
    error: `when` expression not handle all possible values of `Grade`
      ┌─ test:4:24
      │
    4 │   report-card : grade -> when grade {
      │ ╭────────────────────────^
    5 │ │     Grade A -> "top of the class"
    6 │ │     Grade B -> "good job"
    7 │ │     Grade C -> "need to study"
    8 │ │ }
      │ ╰─^ try adding cases for the `D` and `F` patterns

    error: `when` expression not handle all possible values of `Maybe A` for any type `A`
       ┌─ test:11:15
       │
    11 │   unwrap : x -> when x {
       │ ╭───────────────^
    12 │ │     Some x -> x
    13 │ │ }
       │ ╰─^ try adding a case for the `None` pattern
